"use strict";(self.webpackChunkFrontend=self.webpackChunkFrontend||[]).push([[4578],{74578:function(e,n,s){var t=s(43144),r=s(5964),a=s(97434),i=s(97371),o=s(93443),l=s(74182),c=s(26969),d=s(27602),u=s(27115),m=s(31085);function h(e){let{title:n,className:s,children:t}=e;return(0,m.jsxs)(u.A,{as:"li",role:"none",className:s,children:[(0,m.jsx)(u.A.Toggle,{role:"menuitem",children:n}),(0,m.jsx)(u.A.Menu,{as:"ul",role:"menu",align:"end",children:t})]})}function f(e){let{children:n}=e;return(0,m.jsx)("li",{role:"none",children:n})}var p=s(34592);function x(e){let{href:n,onClick:s,children:t}=e;return(0,m.jsx)(f,{children:(0,m.jsx)(p.A,{href:n,role:"menuitem",onClick:s,children:t})})}function j(e){let{canDisplayAdminMenu:n,canDisplayAdminRedirect:s,canDisplaySplitTestMenu:t,canDisplaySurveyMenu:r,adminUrl:a}=e;return(0,m.jsxs)(h,{title:"Admin",className:"subdued",children:[n?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(x,{href:"/admin",children:"Manage Site"}),(0,m.jsx)(x,{href:"/admin/user",children:"Manage Users"}),(0,m.jsx)(x,{href:"/admin/project",children:"Project URL lookup"})]}):null,s&&a?(0,m.jsx)(x,{href:a,children:"Switch to Admin"}):null,t?(0,m.jsx)(x,{href:"/admin/split-test",children:"Manage Feature Flags"}):null,r?(0,m.jsx)(x,{href:"/admin/survey",children:"Manage Surveys"}):null]})}var g=s(61160);function b(){return(0,m.jsx)(g.rx,{className:"d-none d-lg-block"})}var v=s(26),A=s(85960);function y(){const{t:e}=(0,a.Bd)(),{modal:n,showModal:s}=(0,v.v)({autofillProjectUrl:!1});return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(x,{href:"#",onClick:()=>{(0,r._)("menu-clicked-contact"),s()},children:e("contact_us")}),(0,m.jsx)(A.vu,{children:n})]})}function _(e){let{item:n}=e;return(0,m.jsx)(h,{title:n.translatedText,className:n.class,children:n.dropdown.map(((e,n)=>"divider"in e?(0,m.jsx)(b,{},n):"isContactUs"in e?(0,m.jsx)(y,{},n):function(e){return"url"in e}(e)?(0,m.jsx)(x,{href:e.url,onClick:()=>{(0,r._)(e.event)},children:e.translatedText},n):(0,m.jsx)(f,{children:e.translatedText},n)))})}function N(e){const{children:n,...s}=e;return(0,m.jsx)(c.A.Item,{as:"li",role:"none",...s,children:n})}function w(e){let{href:n,className:s,onClick:t,children:r}=e;return(0,m.jsx)(N,{className:s,children:(0,m.jsx)(c.A.Link,{role:"menuitem",href:n,onClick:t,children:r})})}function k(e){let{item:n}=e;return function(e){return"dropdown"in e}(n)?(0,m.jsx)(_,{item:n}):function(e){return"url"in e}(n)?(0,m.jsx)(w,{className:n.class,href:n.url,onClick:()=>{(0,r._)(n.event)},children:n.translatedText}):(0,m.jsx)(N,{className:n.class,children:n.translatedText})}var C=s(64932);function S(e){let{sessionUser:n,showSubscriptionLink:s}=e;const{t:t}=(0,a.Bd)(),r="logOutForm";return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(w,{href:"/project",children:t("projects")}),(0,m.jsxs)(h,{title:t("Account"),children:[(0,m.jsx)(u.A.Item,{as:"li",disabled:!0,role:"menuitem",children:n.email}),(0,m.jsx)(b,{}),(0,m.jsx)(x,{href:"/user/settings",children:t("Account Settings")}),s?(0,m.jsx)(x,{href:"/user/subscription",children:t("subscription")}):null,(0,m.jsx)(b,{}),(0,m.jsxs)(f,{children:[(0,m.jsx)(u.A.Item,{as:"button",type:"submit",form:r,role:"menuitem",children:t("log_out")}),(0,m.jsx)("form",{id:r,method:"POST",action:"/logout",children:(0,m.jsx)("input",{type:"hidden",name:"_csrf",value:(0,C.A)("ol-csrfToken")})})]})]})]})}function L(e){let{customLogo:n,title:s}=e;const{appName:t}=(0,C.A)("ol-ExposedSettings");return n?(0,m.jsx)("a",{href:"/","aria-label":t,className:"navbar-brand",style:{backgroundImage:`url("${n}")`}}):s?(0,m.jsx)("a",{href:"/","aria-label":t,className:"navbar-title",children:s}):(0,m.jsx)("a",{href:"/","aria-label":t,className:"navbar-brand"})}var P=s(96713);function I(){return(0,m.jsx)("span",{children:"Logged out"})}var U=function(e){const{customLogo:n,title:s,canDisplayAdminMenu:t,canDisplayAdminRedirect:u,canDisplaySplitTestMenu:h,canDisplaySurveyMenu:f,enableUpgradeButton:p,suppressNavbarRight:x,suppressNavContentLinks:g,showSubscriptionLink:b,sessionUser:v,adminUrl:A,items:y}=e,{t:_}=(0,a.Bd)(),{isReady:N}=(0,d.A)();return N?(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(i.A,{className:"navbar-default navbar-main",expand:"lg",children:(0,m.jsxs)(o.A,{className:"navbar-container",fluid:!0,children:[(0,m.jsxs)("div",{className:"navbar-header",children:[(0,m.jsx)(L,{title:s,customLogo:n}),p?(0,m.jsx)(l.A,{as:"a",href:"/user/subscription/plans",className:"me-2 d-md-none",onClick:()=>{(0,r._)("upgrade-button-click",{source:"dashboard-top","project-dashboard-react":"enabled","is-dashboard-sidebar-hidden":"true","is-screen-width-less-than-768px":"true"})},children:_("upgrade")}):null]}),x?null:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(i.A.Toggle,{"aria-controls":"navbar-main-collapse","aria-expanded":"false","aria-label":_("main_navigation"),children:(0,m.jsx)(P.A,{type:"menu"})}),(0,m.jsx)(i.A.Collapse,{id:"navbar-main-collapse",className:"justify-content-end",children:(0,m.jsxs)(c.A,{as:"ul",className:"ms-auto",role:"menubar",children:[t||u||h?(0,m.jsx)(j,{canDisplayAdminMenu:t,canDisplayAdminRedirect:u,canDisplaySplitTestMenu:h,canDisplaySurveyMenu:f,adminUrl:A}):null,y.map(((e,n)=>e.only_when_logged_in&&v||e.only_when_logged_out&&v||!e.only_when_logged_out&&!e.only_when_logged_in&&!e.only_content_pages||e.only_content_pages&&!g?(0,m.jsx)(k,{item:e},n):null)),v?(0,m.jsx)(S,{sessionUser:v,showSubscriptionLink:b}):(0,m.jsx)(I,{})]})})]})]})})}):null};const F=document.getElementById("navbar-container");if(F){const e=(0,C.A)("ol-navbar");t.render((0,m.jsx)(U,{...e}),F)}},67993:function(e,n,s){var t=s(10009),r=s(31085);n.A=function(e){let{bs3:n,bs5:s}=e;return(0,r.jsx)(r.Fragment,{children:(0,t.yU)()?s:n})}},4166:function(e,n,s){var t=s(14041),r=s(74182),a=s(237),i=s(53373),o=s.n(i),l=s(97434),c=s(96713),d=s(31085);const u=new Map([["small","btn-sm"],["default",""],["large","btn-lg"]]),m=(0,t.forwardRef)(((e,n)=>{let{children:s,className:t,leadingIcon:i,isLoading:m=!1,loadingLabel:h,size:f="default",trailingIcon:p,variant:x="primary",...j}=e;const{t:g}=(0,l.Bd)(),b=u.get(f),v=o()("d-inline-grid",b,t,{"button-loading":m}),A="large"===f?"loading-spinner-large":"loading-spinner-small",y="large"===f?"icon-large":"icon-small";return(0,d.jsxs)(r.A,{className:v,variant:x,...j,ref:n,children:[m&&(0,d.jsxs)("span",{className:"spinner-container",children:[(0,d.jsx)(a.A,{animation:"border","aria-hidden":"true",as:"span",className:A,role:"status"}),(0,d.jsx)("span",{className:"visually-hidden",children:h??g("loading")})]}),(0,d.jsxs)("span",{className:"button-content","aria-hidden":m,children:[i&&(0,d.jsx)(c.A,{type:i,className:y}),s,p&&(0,d.jsx)(c.A,{type:p,className:y})]})]})}));m.displayName="Button",n.A=m},61160:function(e,n,s){s.d(n,{ms:function(){return m},rx:function(){return x},hO:function(){return j},tJ:function(){return h},rI:function(){return p},C:function(){return f}});var t=s(14041),r=s(27115),a=s(34592),i=s(52263),o=s(93112),l=s(15726),c=s(66810),d=s(96713);var u=s(31085);function m(e){let{...n}=e;return(0,u.jsx)(r.A,{...n})}const h=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=(0,t.forwardRef)(e);for(const e in n)s[e]=n[e];return s}((function(e,n){let{active:s,children:t,description:r,leadingIcon:i,trailingIcon:o,...l}=e,c=null;i&&(c="string"==typeof i?(0,u.jsx)(d.A,{className:"dropdown-item-leading-icon",type:i}):(0,u.jsx)("span",{className:"dropdown-item-leading-icon","aria-hidden":"true",children:i}));let m=null;if(o)if("string"==typeof o){const e=s?"check":o;m=(0,u.jsx)(d.A,{className:"dropdown-item-trailing-icon",type:e})}else m=(0,u.jsx)("span",{className:"dropdown-item-trailing-icon","aria-hidden":"true",children:o});return(0,u.jsxs)(a.A,{active:s,className:r?"dropdown-item-description-container":"",role:"menuitem",...l,ref:n,children:[c,t,m,r&&(0,u.jsx)("span",{className:"dropdown-item-description",children:r})]})}),{EmptyLeadingIcon:function(){return(0,u.jsx)("span",{className:"dropdown-item-leading-icon-empty"})}});function f(e){let{...n}=e;return(0,u.jsx)(i.A,{...n})}const p=(0,t.forwardRef)(((e,n)=>{let{as:s="ul",...t}=e;return(0,u.jsx)(o.A,{as:s,role:"menu",...t,ref:n})}));function x(e){let{as:n="li",...s}=e;return(0,u.jsx)(l.A,{as:n,...s})}function j(e){let{as:n="li",...s}=e;return(0,u.jsx)(c.A,{as:n,...s})}p.displayName="DropdownMenu"},28895:function(e,n,s){s.d(n,{h:function(){return c}});var t=s(9811),r=s(96713),a=s(53373),i=s.n(a),o=s(31085);const l={error:"text-danger",success:"text-success",warning:"text-warning"},c=e=>l[e||"default"];function d(e){let{type:n}=e;switch(n){case"info":return(0,o.jsx)(r.A,{type:"info",className:"text-info"});case"success":return(0,o.jsx)(r.A,{type:"check_circle"});case"warning":return(0,o.jsx)(r.A,{type:"warning"});case"error":return(0,o.jsx)(r.A,{type:"error"});default:return null}}n.A=function(e){let{type:n="default",children:s,className:r,...a}=e;return(0,o.jsxs)(t.A.Text,{className:i()(r,c(n)),...a,children:[(0,o.jsx)(d,{type:n}),s]})}},71627:function(e,n,s){s.d(n,{Ay:function(){return u},TW:function(){return c}});var t=s(67993),r=s(29139),a=s(4166),i=s(53373),o=s.n(i),l=s(31085);function c(e){return{bsStyle:null,bsSize:d(e.size),className:o()(`btn-${e.variant||"primary"}`,e.className),disabled:e.isLoading||e.disabled,form:e.form,href:e.href,target:e.target,rel:e.rel,onClick:e.onClick,type:e.type}}const d=e=>"small"===e?"sm":"large"===e?"lg":void 0;function u(e){const{bs3Props:n,...s}=e;return(0,l.jsx)(t.A,{bs3:(0,l.jsx)(r.A,{...c(s),...n,children:n?.loading||s.children}),bs5:(0,l.jsx)(a.A,{...s})})}},8985:function(e,n,s){s.d(n,{A:function(){return p}});var t=s(14041),r=s(10009),a=s(9811),i=s(53373),o=s.n(i),l=s(31085);const c=(0,t.forwardRef)(((e,n)=>{let{prepend:s,append:t,className:r,...i}=e;if(s||t){const e=o()("form-control-wrapper",{"form-control-wrapper-sm":"sm"===i.size,"form-control-wrapper-lg":"lg"===i.size,"form-control-wrapper-disabled":i.disabled}),c=o()(r,{"form-control-offset-start":s,"form-control-offset-end":t});return(0,l.jsxs)("div",{className:e,children:[s&&(0,l.jsx)("span",{className:"form-control-start-icon",children:s}),(0,l.jsx)(a.A.Control,{...i,className:c,ref:n}),t&&(0,l.jsx)("span",{className:"form-control-end-icon",children:t})]})}return(0,l.jsx)(a.A.Control,{ref:n,className:r,...i})}));c.displayName="FormControl";var d=c,u=s(46794);var m=function(e){let{prepend:n,append:s,...t}=e;return(0,l.jsxs)(l.Fragment,{children:[n&&(0,l.jsx)("div",{className:"form-control-feedback-left",children:n}),(0,l.jsx)(u.A,{...t}),s&&(0,l.jsx)("div",{className:"form-control-feedback",children:s})]})},h=s(67993);const f=(0,t.forwardRef)(((e,n)=>{const{bs3Props:s,...t}=e;let a={componentClass:t.as,id:t.id,name:t.name,className:t.className,style:t.style,type:t.type,value:t.value,defaultValue:t.defaultValue,required:t.required,disabled:t.disabled,placeholder:t.placeholder,readOnly:t.readOnly,autoComplete:t.autoComplete,autoFocus:t.autoFocus,minLength:t.minLength,maxLength:t.maxLength,onChange:t.onChange,onKeyDown:t.onKeyDown,onFocus:t.onFocus,onInvalid:t.onInvalid,inputRef:e=>{"function"==typeof n?n(e):n&&(n.current=e)},prepend:t.prepend,append:t.append,...s};return a={...a,...(0,r.tz)(t),"data-ol-dirty":t["data-ol-dirty"]},(0,l.jsx)(h.A,{bs3:(0,l.jsx)(m,{...a}),bs5:(0,l.jsx)(d,{ref:n,...t})})}));f.displayName="OLFormControl";var p=f},11456:function(e,n,s){s.d(n,{A:function(){return m}});var t=s(81114),r=s(14041),a=s(30357),i=s(53373),o=s.n(i),l=s(31085);const c=(0,r.forwardRef)(((e,n)=>{let{className:s,...t}=e;const r=o()("form-group",s);return(0,l.jsx)(a.A,{className:r,...t,ref:n})}));c.displayName="FormGroup";var d=c,u=s(67993);var m=function(e){const{bs3Props:n,className:s,...r}=e,a={children:r.children,controlId:r.controlId,className:s,...n};return(0,l.jsx)(u.A,{bs3:(0,l.jsx)(t.A,{...a}),bs5:(0,l.jsx)(d,{className:s,...r})})}},96700:function(e,n,s){var t=s(9811),r=s(97294),a=s(67993),i=s(31085);n.A=function(e){const{bs3Props:n,...s}=e,o={children:s.children,htmlFor:s.htmlFor,srOnly:s.visuallyHidden,...n};return(0,i.jsx)(a.A,{bs3:(0,i.jsx)(r.A,{...o}),bs5:(0,i.jsx)(t.A.Label,{...s})})}},1705:function(e,n,s){var t=s(9811),r=s(99305),a=s(67993),i=s(53373),o=s.n(i),l=s(10009),c=s(31085);n.A=function(e){const{bs3Props:n,...s}=e,i={componentClass:s.as,children:s.children,id:s.id,onSubmit:s.onSubmit,onClick:s.onClick,name:s.name,noValidate:s.noValidate,role:s.role,...n},d=o()(s.className,s.validated?"was-validated":null),u=(0,l.tz)(s);return(0,c.jsx)(a.A,{bs3:(0,c.jsx)(r.A,{className:d,...i,...u}),bs5:(0,c.jsx)(t.A,{...s})})}},28812:function(e,n,s){s.d(n,{$8:function(){return u},Ay:function(){return l},E9:function(){return m},IK:function(){return c},rA:function(){return d}});var t=s(37266),r=s(1251),a=s(67993),i=s(58278),o=s(31085);function l(e){let{children:n,...s}=e;const{bs3Props:r,...l}=s,c={bsClass:l.bsPrefix,bsSize:l.size,show:l.show,onHide:l.onHide,backdrop:l.backdrop,animation:l.animation,id:l.id,...r};return(0,o.jsx)(a.A,{bs3:(0,o.jsx)(i.A,{...c,children:n}),bs5:(0,o.jsx)(t.A,{...l,children:n})})}function c(e){let{children:n,...s}=e;const{bs3Props:i,...l}=s,c={bsClass:l.bsPrefix,onHide:l.onHide,closeButton:l.closeButton,closeLabel:l.closeLabel};return(0,o.jsx)(a.A,{bs3:(0,o.jsx)(r.A.Header,{...c,children:n}),bs5:(0,o.jsx)(t.A.Header,{...l,children:n})})}function d(e){let{children:n,...s}=e;const{bs3Props:i,...l}=s,c={componentClass:l.as};return(0,o.jsx)(a.A,{bs3:(0,o.jsx)(r.A.Title,{...c,children:n}),bs5:(0,o.jsx)(t.A.Title,{...l,children:n})})}function u(e){let{children:n,...s}=e;const{bs3Props:i,...l}=s,c={componentClass:l.as,className:l.className};return(0,o.jsx)(a.A,{bs3:(0,o.jsx)(r.A.Body,{...c,children:n}),bs5:(0,o.jsx)(t.A.Body,{...l,children:n})})}function m(e){let{children:n,...s}=e;const{bs3Props:i,...l}=s,c={componentClass:l.as,className:l.className};return(0,o.jsx)(a.A,{bs3:(0,o.jsx)(r.A.Footer,{...c,children:n}),bs5:(0,o.jsx)(t.A.Footer,{...l,children:n})})}},22046:function(e,n,s){var t=s(79953),r=s(43721),a=s(67993),i=s(53373),o=s.n(i),l=s(31085);n.A=function(e){const{bs3Props:n,...s}=e,i={bsStyle:"error"===s.type?"danger":s.type,className:o()(s.className,n?.className),onDismiss:s.onDismiss};return(0,l.jsx)(a.A,{bs3:(0,l.jsxs)(r.A,{...i,children:[n?.icon,n?.icon&&" ",s.content]}),bs5:(0,l.jsx)("div",{className:"notification-list",children:(0,l.jsx)(t.A,{...s})})})}},10009:function(e,n,s){s.d(n,{q$:function(){return a},tz:function(){return i},yU:function(){return r}});var t=s(64932);const r=()=>5===(0,t.A)("ol-bootstrapVersion"),a=e=>{let{bs5:n,bs3:s}=e;return r()?n:s},i=e=>Object.entries(e).reduce(((e,n)=>{let[s,t]=n;return(s.startsWith("aria-")||s.startsWith("data-"))&&(e[s]=t),e}),{})},58278:function(e,n,s){var t=s(14041),r=s(1251),a=s(31085);n.A=function(e){const n=(0,t.useCallback)((n=>{const s=n?._modal?.modalNode;s&&(e.show?(s.removeAttribute("role"),s.removeAttribute("aria-hidden")):s.setAttribute("aria-hidden","true"))}),[e.show]);return(0,a.jsx)(r.A,{...e,ref:n})}},96713:function(e,n,s){var t=s(53373),r=s.n(t),a=(s(14041),s(10009)),i=s(31085);n.A=function(e){let{type:n,className:s,accessibilityLabel:t,...o}=e;const l=r()("material-symbols",s);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{className:l,"aria-hidden":"true",...o,children:n}),t&&(0,i.jsx)("span",{className:(0,a.q$)({bs5:"visually-hidden",bs3:"sr-only"}),children:t})]})}},79953:function(e,n,s){var t=s(53373),r=s.n(t),a=s(14041),i=s(97434),o=s(96713),l=s(31085);function c(e){let{notificationType:n,customIcon:s}=e,t=(0,l.jsx)(o.A,{type:"info"});return s?t=s:"success"===n?t=(0,l.jsx)(o.A,{type:"check_circle"}):"warning"===n?t=(0,l.jsx)(o.A,{type:"warning"}):"error"===n?t=(0,l.jsx)(o.A,{type:"error"}):"offer"===n&&(t=(0,l.jsx)(o.A,{type:"campaign"})),(0,l.jsx)("div",{className:"notification-icon",children:t})}n.A=function(e){let{action:n,ariaLive:s,className:t="",content:d,customIcon:u,disclaimer:m,isActionBelowContent:h,isDismissible:f,onDismiss:p,title:x,type:j,id:g}=e;j=j||"info";const{t:b}=(0,i.Bd)(),[v,A]=(0,a.useState)(!0),y=r()("notification",`notification-type-${j}`,h?"notification-cta-below-content":"",t);return v?(0,l.jsxs)("div",{className:y,"aria-live":s||"off",role:"alert",id:g,children:[null!==u&&(0,l.jsx)(c,{notificationType:j,customIcon:u}),(0,l.jsxs)("div",{className:"notification-content-and-cta",children:[(0,l.jsxs)("div",{className:"notification-content",children:[x&&(0,l.jsx)("p",{children:(0,l.jsx)("b",{children:x})}),d]}),n&&(0,l.jsx)("div",{className:"notification-cta",children:n}),m&&(0,l.jsx)("div",{className:"notification-disclaimer",children:m})]}),f&&(0,l.jsx)("div",{className:"notification-close-btn",children:(0,l.jsx)("button",{"aria-label":b("close"),onClick:()=>{A(!1),p&&p()},children:(0,l.jsx)(o.A,{type:"close"})})})]}):null}},85960:function(e,n,s){s.d(n,{ur:function(){return l},vu:function(){return o}});s(66264);var t=s(14041),r=s(64932),a=s(31085);const i=(0,t.createContext)(void 0),o=e=>{let{children:n}=e;const s=(0,t.useMemo)((()=>(0,r.A)("ol-user")),[]);return(0,a.jsx)(i.Provider,{value:s,children:n})};function l(){const e=(0,t.useContext)(i);if(!e)throw new Error("useUserContext is only available inside UserContext, or `ol-user` meta is not defined");return e}},52155:function(e,n,s){s.d(n,{A:function(){return r}});s(99612);var t=s(14041);function r(){const[e]=(0,t.useState)((()=>new AbortController));return(0,t.useEffect)((()=>()=>{e.abort()}),[e]),e}},26:function(e,n,s){s.d(n,{v:function(){return q}});var t={};s.r(t),s.d(t,{default:function(){return R}});var r=s(14041),a=s(39067),i=s.n(a),o=s(97434),l=s(5964),c=s(52155),d=s(37858),u=s(85960),m=s(28812),h=s(1705),f=s(11456),p=s(71627),x=s(8985),j=s(96700),g=s(22046),b=s(9811),v=s(46794),A=s(67993),y=s(10009),_=s(31085);var N=function(e){const{bs3Props:n,...s}=e,t={children:s.children,bsSize:s.size,name:s.name,value:s.value,disabled:s.disabled,onChange:s.onChange,required:s.required,placeholder:s.placeholder,className:s.className,...n},r=(0,y.tz)(s);return(0,_.jsx)(A.A,{bs3:(0,_.jsx)(v.A,{componentClass:"select",...t,...r}),bs5:(0,_.jsx)(b.A.Select,{...s})})},w=s(309),k=s(81547),C=s(53373),S=s.n(C),L=s(28895);var P=function(e){return(0,_.jsx)(b.A.Control.Feedback,{...e,children:(0,_.jsx)(L.A,{type:"invalid"===e.type?"error":"success",children:e.children})})};var I=function(e){const{bs3Props:n,children:s,...t}=e,r={className:S()(t.className,"invalid"===t.type?"invalid-only":null),children:s,...n};return(0,_.jsx)(A.A,{bs3:(0,_.jsx)(k.A,{...r}),bs5:(0,_.jsx)(P,{...t,children:s})})},U=s(61160),F=s(35243);async function D(e){const{hits:n}=await(0,F.B)(e,{hitsPerPage:3,typoTolerance:"strict"});return n.map((e=>(0,F.l)(e)))}function T(){const{t:e}=(0,o.Bd)();return(0,_.jsx)(o.x6,{i18nKey:"kb_suggestions_enquiry",components:[(0,_.jsx)("a",{href:"/learn/kb",target:"_blank"})],values:{kbLink:e("knowledge_base")},shouldUnescape:!0,tOptions:{interpolation:{escapeValue:!0}}})}function B(e){let{suggestions:n}=e;const{t:s}=(0,o.Bd)();return 0===n.length?null:(0,_.jsxs)("div",{className:"contact-suggestions",children:[(0,_.jsx)("p",{className:"contact-suggestion-label","aria-live":"polite",children:(0,_.jsx)(T,{})}),(0,_.jsx)("ul",{className:"contact-suggestion-list",role:"region","aria-label":s("help_articles_matching"),children:n.map(((e,n)=>(0,_.jsx)("li",{children:(0,_.jsxs)("a",{href:e.url,target:"_blank",className:"contact-suggestion-list-item",rel:"noopener",children:[(0,_.jsx)("span",{children:(0,_.jsx)(o.x6,{i18nKey:e.pageName,shouldUnescape:!0,components:{em:(0,_.jsx)("em",{})}})}),(0,_.jsx)("i",{className:"fa fa-angle-right","aria-hidden":!0})]})},n)))})]})}function M(e){let{subject:n,suggestions:s}=e;const{t:t}=(0,o.Bd)(),[a,i]=(0,r.useState)(!1),l=(0,r.useRef)(null);return(0,r.useEffect)((()=>{i(""!==n&&s.length>0)}),[s,n]),(0,r.useEffect)((()=>{function e(e){const n=l.current,s=e.target;n&&!n.contains(s)&&i(!1)}function n(e){"Escape"===e.code&&i(!1)}return document.addEventListener("click",e),document.addEventListener("keydown",n),()=>{document.removeEventListener("click",e),document.removeEventListener("keydown",n)}})),a?(0,_.jsxs)(U.rI,{className:"contact-suggestions-dropdown","aria-label":t("help_articles_matching"),ref:l,show:!0,children:[(0,_.jsx)(U.hO,{children:(0,_.jsx)(T,{})}),(0,_.jsx)(U.rx,{}),s.map(((e,n)=>(0,_.jsx)("li",{children:(0,_.jsx)(U.tJ,{href:e.url,target:"_blank",trailingIcon:"open_in_new",description:e.sectionName?(0,_.jsx)(o.x6,{i18nKey:e.sectionName,shouldUnescape:!0,components:{em:(0,_.jsx)("strong",{})}}):void 0,children:(0,_.jsx)("div",{children:(0,_.jsx)(o.x6,{i18nKey:e.rawPageName,shouldUnescape:!0,components:{em:(0,_.jsx)("strong",{})}})})})},n)))]}):null}function E(e){let{show:n,handleHide:s,autofillProjectUrl:t=!1,helpSuggestionSearch:a=D}=e;const{email:i}=(0,u.ur)(),{t:b}=(0,o.Bd)(),{signal:v}=(0,c.A)(),[y,k]=(0,r.useState)(""),C=(0,w.A)(y,350),[S,L]=(0,r.useState)(""),[P,U]=(0,r.useState)(!1),[F,T]=(0,r.useState)(),[E,R]=(0,r.useState)([]),[z,H]=(0,r.useState)(!1),[q,O]=(0,r.useState)(!1);function V(e){e&&O(e.checkValidity())}(0,r.useEffect)((()=>{(async()=>{if(""===C)return void R([]);const e=await a(C);R(e),e.length>0&&(0,l._)("contact-form-suggestions-shown")})().catch((()=>R([])))}),[C,a]);const $=(0,r.useCallback)((e=>{if(e.preventDefault(),H(!0),!q)return;const n=new FormData(e.target),t={email:n.get("email"),message:n.get("message"),projectUrl:n.get("projectUrl"),subject:n.get("subject"),subSubject:n.get("subSubject"),important_message:n.get("important_message"),inbox:"support"};U(!0),(0,l._)("form-submitted-contact-us",{location:"contact-us-form"}),(0,d.TB)("/support",{body:t,signal:v}).then((()=>{s()})).catch((e=>{U(!1),T(e)}))}),[s,q,v]);return(0,_.jsxs)(m.Ay,{show:n,onHide:s,animation:!1,children:[(0,_.jsx)(m.IK,{closeButton:!0,children:(0,_.jsx)(m.rA,{children:b("get_in_touch")})}),(0,_.jsxs)(h.A,{id:"contact-us-form",name:"contact-form",className:"contact-us-modal","aria-label":"Contact Us",onSubmit:$,noValidate:!0,validated:z,children:[(0,_.jsxs)(m.$8,{children:[F&&(0,_.jsx)(g.A,{content:b("generic_something_went_wrong"),type:"error",className:"row-spaced-small"}),(0,_.jsxs)(f.A,{controlId:"contact-us-email",children:[(0,_.jsx)(j.A,{children:b("email")}),(0,_.jsx)(x.A,{name:"email",defaultValue:i})]}),(0,_.jsxs)(f.A,{bs3Props:{validationState:z&&""===y?"error":null},controlId:"contact-us-subject",children:[(0,_.jsx)(j.A,{children:b("subject")}),(0,_.jsx)(x.A,{name:"subject",maxLength:255,onChange:e=>{k(e.target.value),V(e.target.form)},required:!0}),(0,_.jsx)(I,{type:"invalid",children:b("please_provide_a_subject")})]}),(0,_.jsx)(A.A,{bs3:(0,_.jsx)(B,{suggestions:E}),bs5:(0,_.jsx)(M,{subject:y,suggestions:E})}),(0,_.jsxs)(f.A,{controlId:"contact-us-sub-subject",children:[(0,_.jsx)(j.A,{children:b("what_do_you_need_help_with")}),(0,_.jsxs)(N,{name:"subSubject",children:[(0,_.jsxs)("option",{value:"",disabled:!0,selected:!0,children:[b("please_select"),"â€¦"]}),(0,_.jsx)("option",{value:b("using_latex"),children:b("using_latex")}),(0,_.jsx)("option",{value:b("using_the_overleaf_editor"),children:b("using_the_overleaf_editor")}),(0,_.jsx)("option",{value:b("logging_in_or_managing_your_account"),children:b("logging_in_or_managing_your_account")}),(0,_.jsx)("option",{value:b("managing_your_subscription"),children:b("managing_your_subscription")}),(0,_.jsx)("option",{value:b("using_premium_features"),children:b("using_premium_features")}),(0,_.jsx)("option",{value:b("contacting_the_sales_team"),children:b("contacting_the_sales_team")}),(0,_.jsx)("option",{value:b("other"),children:b("other")})]})]}),(0,_.jsxs)(f.A,{controlId:"contact-us-project-url",children:[(0,_.jsx)(j.A,{children:`${b("project_url")} (${b("optional")})`}),(0,_.jsx)(x.A,{name:"projectUrl",defaultValue:t?window.location.href:""})]}),(0,_.jsxs)(f.A,{bs3Props:{validationState:z&&""===S?"error":null},controlId:"contact-us-message",children:[(0,_.jsx)(j.A,{children:b("let_us_know_how_we_can_help")}),(0,_.jsx)(x.A,{as:"textarea",name:"message",className:"contact-us-modal-textarea",onChange:e=>{L(e.target.value),V(e.target.form)},required:!0}),(0,_.jsx)(I,{type:"invalid",children:b("please_provide_a_message")})]}),(0,_.jsx)(f.A,{className:"hidden",children:(0,_.jsx)(x.A,{as:"textarea","aria-label":"important_message",name:"important_message"})})]}),(0,_.jsx)(m.E9,{children:(0,_.jsx)(p.Ay,{variant:"primary",form:"contact-us-form",type:"submit",isLoading:P,children:b("send_message")})})]})]})}E.propTypes={show:i().bool,handleHide:i().func.isRequired};var R=E;const[z]=[{import:t,path:"/overleaf/services/web/modules/support/frontend/js/components/contact-us-modal"}],H=z?.import.default,q=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{autofillProjectUrl:!0};const[n,s]=(0,r.useState)(!1),t=(0,r.useCallback)((e=>{e?.preventDefault(),s(!1)}),[]),a=(0,r.useCallback)((e=>{e?.preventDefault(),s(!0)}),[]);return{modal:H&&(0,_.jsx)(H,{show:n,handleHide:t,autofillProjectUrl:e.autofillProjectUrl}),hideModal:t,showModal:a}}},309:function(e,n,s){s.d(n,{A:function(){return r}});var t=s(14041);function r(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const[s,r]=(0,t.useState)(e);return(0,t.useEffect)((()=>{const s=window.setTimeout((()=>{r(e)}),n);return()=>{window.clearTimeout(s)}}),[e,n]),s}},27602:function(e,n,s){var t=s(14041),r=s(9929),a=s(97434);n.A=function(){const{ready:e}=(0,a.Bd)(),[n,s]=(0,t.useState)(!1),[i,o]=(0,t.useState)();return(0,t.useEffect)((()=>{r.A.then((()=>{s(!0)})).catch((e=>{o(e)}))}),[]),{isReady:e&&n,error:i}}}}]);